{"ast":null,"code":"// client/src/pages/AdminPages.jsx\nimport React,{useState,useEffect}from'react';import{Routes,Route,Link,useLocation,Navigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import Navbar from'../components/Layout/Navbar';import AdminDashboard from'../components/Admin/Dashboard';import UserManagement from'../components/Admin/UserManagement';import BusManagement from'../components/Admin/BusManagement';import LiveMonitor from'../components/Admin/LiveMonitor';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPages=()=>{const{user}=useAuth();const location=useLocation();// If not admin, redirect to appropriate dashboard\nif((user===null||user===void 0?void 0:user.role)!=='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/\".concat((user===null||user===void 0?void 0:user.role)||'',\"/dashboard\")});}const navigation=[{name:'Dashboard',href:'/admin/dashboard',icon:'fas fa-tachometer-alt'},{name:'Users',href:'/admin/users',icon:'fas fa-users'},{name:'Buses',href:'/admin/buses',icon:'fas fa-bus'},{name:'Live Monitor',href:'/admin/monitor',icon:'fas fa-map-marked-alt'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col min-h-0 bg-white border-r border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-shrink-0 px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Admin Panel\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Bus Tracking System\"})]})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"mt-8 flex-1 px-2 space-y-1\",children:navigation.map(item=>{const isActive=location.pathname===item.href;return/*#__PURE__*/_jsxs(Link,{to:item.href,className:\"group flex items-center px-3 py-3 text-sm font-medium rounded-lg \".concat(isActive?'bg-blue-50 text-blue-700 border-l-4 border-blue-600':'text-gray-700 hover:bg-gray-50 hover:text-gray-900'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"\".concat(item.icon,\" mr-3 flex-shrink-0 \").concat(isActive?'text-blue-600':'text-gray-400 group-hover:text-gray-500')}),item.name]},item.name);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 flex border-t border-gray-200 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:user===null||user===void 0?void 0:user.email})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:pl-64 flex flex-col flex-1\",children:/*#__PURE__*/_jsx(\"main\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(AdminDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"users\",element:/*#__PURE__*/_jsx(UserManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"buses\",element:/*#__PURE__*/_jsx(BusManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"monitor\",element:/*#__PURE__*/_jsx(LiveMonitor,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/admin/dashboard\"})})]})})})})})]})]});};export default AdminPages;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Link","useLocation","Navigate","useAuth","Navbar","AdminDashboard","UserManagement","BusManagement","LiveMonitor","jsx","_jsx","jsxs","_jsxs","AdminPages","user","location","role","to","concat","navigation","name","href","icon","className","children","map","item","isActive","pathname","email","path","element"],"sources":["/home/project/client/src/pages/AdminPages.jsx"],"sourcesContent":["// client/src/pages/AdminPages.jsx\nimport React, { useState, useEffect } from 'react';\nimport { Routes, Route, Link, useLocation, Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport Navbar from '../components/Layout/Navbar';\nimport AdminDashboard from '../components/Admin/Dashboard';\nimport UserManagement from '../components/Admin/UserManagement';\nimport BusManagement from '../components/Admin/BusManagement';\nimport LiveMonitor from '../components/Admin/LiveMonitor';\n\nconst AdminPages = () => {\n  const { user } = useAuth();\n  const location = useLocation();\n  \n  // If not admin, redirect to appropriate dashboard\n  if (user?.role !== 'admin') {\n    return <Navigate to={`/${user?.role || ''}/dashboard`} />;\n  }\n\n  const navigation = [\n    { name: 'Dashboard', href: '/admin/dashboard', icon: 'fas fa-tachometer-alt' },\n    { name: 'Users', href: '/admin/users', icon: 'fas fa-users' },\n    { name: 'Buses', href: '/admin/buses', icon: 'fas fa-bus' },\n    { name: 'Live Monitor', href: '/admin/monitor', icon: 'fas fa-map-marked-alt' },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      \n      <div className=\"flex\">\n        {/* Sidebar */}\n        <div className=\"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0\">\n          <div className=\"flex-1 flex flex-col min-h-0 bg-white border-r border-gray-200\">\n            <div className=\"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto\">\n              {/* Logo */}\n              <div className=\"flex items-center flex-shrink-0 px-4\">\n                <div className=\"w-10 h-10 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center\">\n                  <i className=\"fas fa-shield-alt text-white\"></i>\n                </div>\n                <div className=\"ml-3\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">Admin Panel</h2>\n                  <p className=\"text-xs text-gray-500\">Bus Tracking System</p>\n                </div>\n              </div>\n              \n              {/* Navigation */}\n              <nav className=\"mt-8 flex-1 px-2 space-y-1\">\n                {navigation.map((item) => {\n                  const isActive = location.pathname === item.href;\n                  return (\n                    <Link\n                      key={item.name}\n                      to={item.href}\n                      className={`group flex items-center px-3 py-3 text-sm font-medium rounded-lg ${\n                        isActive\n                          ? 'bg-blue-50 text-blue-700 border-l-4 border-blue-600'\n                          : 'text-gray-700 hover:bg-gray-50 hover:text-gray-900'\n                      }`}\n                    >\n                      <i className={`${item.icon} mr-3 flex-shrink-0 ${\n                        isActive ? 'text-blue-600' : 'text-gray-400 group-hover:text-gray-500'\n                      }`}></i>\n                      {item.name}\n                    </Link>\n                  );\n                })}\n              </nav>\n            </div>\n            \n            {/* User Profile */}\n            <div className=\"flex-shrink-0 flex border-t border-gray-200 p-4\">\n              <div className=\"flex items-center\">\n                <div className=\"ml-3\">\n                  <p className=\"text-sm font-medium text-gray-700\">{user?.name}</p>\n                  <p className=\"text-xs text-gray-500\">{user?.email}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"md:pl-64 flex flex-col flex-1\">\n          <main className=\"flex-1\">\n            <div className=\"py-6\">\n              <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n                <Routes>\n                  <Route path=\"dashboard\" element={<AdminDashboard />} />\n                  <Route path=\"users\" element={<UserManagement />} />\n                  <Route path=\"buses\" element={<BusManagement />} />\n                  <Route path=\"monitor\" element={<LiveMonitor />} />\n                  <Route path=\"*\" element={<Navigate to=\"/admin/dashboard\" />} />\n                </Routes>\n              </div>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminPages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}