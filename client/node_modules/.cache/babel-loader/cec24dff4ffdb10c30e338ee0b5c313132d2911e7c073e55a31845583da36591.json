{"ast":null,"code":"import _objectSpread from\"/home/project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// client/src/pages/StudentPage.jsx\nimport React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{useSocket}from'../contexts/SocketContext';import Navbar from'../components/Layout/Navbar';import MapComponent from'../components/Common/MapComponent';import BusMarker from'../components/Common/BusMarker';import useGeolocation from'../hooks/useGeolocation';import{busService}from'../services/busService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentDashboard=()=>{var _bus$status,_bus$driverId,_bus$driverId2;const{user}=useAuth();const{socket,joinBusRoom}=useSocket();const{location,error:locationError,getCurrentPosition}=useGeolocation();const[bus,setBus]=useState(null);const[loading,setLoading]=useState(true);const[eta,setEta]=useState(null);const[distance,setDistance]=useState(null);const[showRoute,setShowRoute]=useState(false);const[routeCoordinates,setRouteCoordinates]=useState([]);const[lastUpdate,setLastUpdate]=useState(null);// Fetch student's bus\nuseEffect(()=>{const fetchBus=async()=>{try{setLoading(true);const busData=await busService.getMyBus();if(busData){setBus(busData);// Join bus room for real-time updates\nif(busData._id){joinBusRoom(busData._id);}}}catch(error){console.error('Error fetching bus data:',error);}finally{setLoading(false);}};fetchBus();},[joinBusRoom]);// Get student location on mount\nuseEffect(()=>{getCurrentPosition().catch(console.error);},[]);// Socket listeners for real-time updates\nuseEffect(()=>{if(!socket||!(bus!==null&&bus!==void 0&&bus._id))return;const handleBusUpdate=data=>{setBus(prev=>_objectSpread(_objectSpread({},prev),{},{latitude:data.latitude,longitude:data.longitude,status:data.status,updatedAt:data.timestamp}));setLastUpdate(new Date());// Recalculate ETA if student location is available\nif(location&&data.latitude&&data.longitude){calculateETA(data.latitude,data.longitude);}};socket.on('bus-location-update',handleBusUpdate);socket.on('bus-live-update',handleBusUpdate);return()=>{socket.off('bus-location-update',handleBusUpdate);socket.off('bus-live-update',handleBusUpdate);};},[socket,bus===null||bus===void 0?void 0:bus._id,location]);// Calculate ETA when locations change\nuseEffect(()=>{if(bus!==null&&bus!==void 0&&bus.latitude&&bus!==null&&bus!==void 0&&bus.longitude&&location){calculateETA(bus.latitude,bus.longitude);}},[bus,location]);// Calculate ETA and distance\nconst calculateETA=async(busLat,busLng)=>{if(!location)return;try{const routeInfo=await busService.getRouteInfo(location.latitude,location.longitude,busLat,busLng);if(routeInfo){if(routeInfo.coordinates){setRouteCoordinates(routeInfo.coordinates);}if(routeInfo.duration){const minutes=Math.round(routeInfo.duration);setEta(minutes>0?\"\".concat(minutes,\" mins\"):'Arriving now');}if(routeInfo.distance){setDistance(\"\".concat(routeInfo.distance.toFixed(1),\" km\"));}}}catch(error){// Fallback calculation using straight-line distance\nconst straightLineDistance=calculateStraightDistance(location.latitude,location.longitude,busLat,busLng);const estimatedTime=Math.round(straightLineDistance/30*60);// 30 km/h average\nsetEta(estimatedTime>0?\"\".concat(estimatedTime,\" mins\"):'Arriving now');setDistance(\"\".concat(straightLineDistance.toFixed(1),\" km\"));}};// Calculate straight-line distance (Haversine formula)\nconst calculateStraightDistance=(lat1,lon1,lat2,lon2)=>{const R=6371;// Earth's radius in km\nconst dLat=(lat2-lat1)*Math.PI/180;const dLon=(lon2-lon1)*Math.PI/180;const a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLon/2)*Math.sin(dLon/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;};// Map markers\nconst mapMarkers=[...(bus!==null&&bus!==void 0&&bus.latitude&&bus!==null&&bus!==void 0&&bus.longitude?[{position:{lat:bus.latitude,lng:bus.longitude},iconHtml:\"\\n        <div style=\\\"\\n          width: 50px;\\n          height: 50px;\\n          background: #2563eb;\\n          border-radius: 50%;\\n          border: 3px solid white;\\n          box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          color: white;\\n          font-size: 1.2rem;\\n        \\\">\\n          <i class=\\\"fas fa-bus\\\"></i>\\n        </div>\\n      \",iconSize:[50,50],iconAnchor:[25,50],popup:\"\\n        <div style=\\\"padding: 10px; min-width: 200px;\\\">\\n          <strong>Bus \".concat(bus.busNumber,\"</strong><br>\\n          Route: \").concat(bus.routeName||'N/A',\"<br>\\n          Status: \").concat(bus.status||'Active',\"<br>\\n          Driver: \").concat(bus.driverName||'N/A',\"\\n        </div>\\n      \")}]:[]),...(location?[{position:{lat:location.latitude,lng:location.longitude},color:'#10b981',size:35,icon:'üë®‚Äçüéì',popup:\"\\n        <div style=\\\"padding: 10px;\\\">\\n          <strong>Your Location</strong><br>\\n          \".concat(location.latitude.toFixed(6),\", \").concat(location.longitude.toFixed(6),\"\\n        </div>\\n      \")}]:[])];// Route data for map\nconst mapRoutes=showRoute&&routeCoordinates.length>0?[{coordinates:routeCoordinates,color:'#6366f1',weight:4,opacity:0.7}]:bus!==null&&bus!==void 0&&bus.latitude&&bus!==null&&bus!==void 0&&bus.longitude&&location?[{coordinates:[{lat:location.latitude,lng:location.longitude},{lat:bus.latitude,lng:bus.longitude}],color:'#94a3b8',weight:3,opacity:0.5,dashed:true}]:[];// Center map between bus and student\nconst mapCenter=bus!==null&&bus!==void 0&&bus.latitude&&bus!==null&&bus!==void 0&&bus.longitude&&location?[(bus.latitude+location.latitude)/2,(bus.longitude+location.longitude)/2]:bus!==null&&bus!==void 0&&bus.latitude&&bus!==null&&bus!==void 0&&bus.longitude?[bus.latitude,bus.longitude]:location?[location.latitude,location.longitude]:[20.5937,78.9629];if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading your bus information...\"})]})});}if(!bus){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bus-slash text-3xl text-gray-400\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"No Bus Assigned\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"You don't have a bus assigned to you yet. Please contact the AIDS Department for assistance.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.reload(),className:\"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sync-alt mr-2\"}),\"Refresh Page\"]})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Student Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Track your bus in real-time\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 bg-blue-50 border border-blue-200 rounded-full flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full bg-blue-500 animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-800\",children:((_bus$status=bus.status)===null||_bus$status===void 0?void 0:_bus$status.toUpperCase())||'TRACKING'})]}),lastUpdate&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Updated: \",lastUpdate.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Live Bus Tracking\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowRoute(!showRoute),className:\"px-4 py-2 rounded-lg font-medium flex items-center gap-2 \".concat(showRoute?'bg-blue-500 text-white':'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-route\"}),showRoute?'Hide Route':'Show Route']})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-[500px] relative\",children:[/*#__PURE__*/_jsx(MapComponent,{center:mapCenter,zoom:13,markers:mapMarkers,routes:mapRoutes,interactive:true}),locationError&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 right-4 bg-red-50 border border-red-200 rounded-lg p-4 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle text-red-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 font-medium\",children:\"Location Error\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm\",children:locationError})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>getCurrentPosition(),className:\"px-6 py-4 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 hover:from-blue-100 hover:to-blue-200 transition-all flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-location-crosshairs text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-700\",children:\"Refresh Location\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.open(\"https://www.google.com/maps/dir/\".concat(location===null||location===void 0?void 0:location.latitude,\",\").concat(location===null||location===void 0?void 0:location.longitude,\"/\").concat(bus===null||bus===void 0?void 0:bus.latitude,\",\").concat(bus===null||bus===void 0?void 0:bus.longitude),'_blank'),disabled:!location||!(bus!==null&&bus!==void 0&&bus.latitude),className:\"px-6 py-4 rounded-xl bg-gradient-to-r from-green-50 to-green-100 border border-green-200 hover:from-green-100 hover:to-green-200 transition-all flex items-center justify-center gap-3 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-directions text-green-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-700\",children:\"Get Directions\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigator.clipboard.writeText(\"Bus \".concat(bus.busNumber,\" - Driver: \").concat(bus.driverName,\" - \").concat(bus.routeName)),className:\"px-6 py-4 rounded-xl bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 hover:from-purple-100 hover:to-purple-200 transition-all flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-copy text-purple-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-700\",children:\"Copy Bus Info\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg text-white overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-lg bg-white/20 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clock text-xl\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Estimated Arrival\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 text-sm\",children:\"Based on current location\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-bold mb-2\",children:eta||'--:--'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100\",children:distance||'Calculating...'})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Bus Details\"}),/*#__PURE__*/_jsx(BusMarker,{bus:bus,isActive:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 uppercase font-semibold mb-1\",children:\"Bus Number\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:bus.busNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 uppercase font-semibold mb-1\",children:\"Vehicle ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:bus.busId||'---'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 uppercase font-semibold mb-1\",children:\"Route Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:bus.routeName||'Not specified'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 uppercase font-semibold mb-1\",children:\"Driver\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:bus.driverName||'Unassigned'}),((_bus$driverId=bus.driverId)===null||_bus$driverId===void 0?void 0:_bus$driverId.phone)&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.open(\"tel:\".concat(bus.driverId.phone)),className:\"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm hover:bg-blue-200 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-phone mr-1\"}),\"Call\"]})]})]}),((_bus$driverId2=bus.driverId)===null||_bus$driverId2===void 0?void 0:_bus$driverId2.email)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 uppercase font-semibold mb-1\",children:\"Driver Email\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"mailto:\".concat(bus.driverId.email),className:\"font-medium text-blue-600 hover:text-blue-800 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"}),bus.driverId.email]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.reload(),className:\"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-left flex items-center gap-3 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sync-alt text-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Refresh Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>alert('Issue reported to AIDS Department. Thank you!'),className:\"w-full px-4 py-3 bg-red-50 hover:bg-red-100 rounded-lg text-left flex items-center gap-3 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-flag text-red-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-red-700\",children:\"Report Issue\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _navigator$share,_navigator;return(_navigator$share=(_navigator=navigator).share)===null||_navigator$share===void 0?void 0:_navigator$share.call(_navigator,{title:\"Bus \".concat(bus.busNumber,\" Tracking\"),text:\"Track Bus \".concat(bus.busNumber,\" on \").concat(bus.routeName,\". Current ETA: \").concat(eta),url:window.location.href}).catch(console.error);},className:\"w-full px-4 py-3 bg-green-50 hover:bg-green-100 rounded-lg text-left flex items-center gap-3 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-share-alt text-green-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-700\",children:\"Share Tracking\"})]})]})]})})]})]})]})]});};export default StudentDashboard;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useSocket","Navbar","MapComponent","BusMarker","useGeolocation","busService","jsx","_jsx","jsxs","_jsxs","StudentDashboard","_bus$status","_bus$driverId","_bus$driverId2","user","socket","joinBusRoom","location","error","locationError","getCurrentPosition","bus","setBus","loading","setLoading","eta","setEta","distance","setDistance","showRoute","setShowRoute","routeCoordinates","setRouteCoordinates","lastUpdate","setLastUpdate","fetchBus","busData","getMyBus","_id","console","catch","handleBusUpdate","data","prev","_objectSpread","latitude","longitude","status","updatedAt","timestamp","Date","calculateETA","on","off","busLat","busLng","routeInfo","getRouteInfo","coordinates","duration","minutes","Math","round","concat","toFixed","straightLineDistance","calculateStraightDistance","estimatedTime","lat1","lon1","lat2","lon2","R","dLat","PI","dLon","a","sin","cos","c","atan2","sqrt","mapMarkers","position","lat","lng","iconHtml","iconSize","iconAnchor","popup","busNumber","routeName","driverName","color","size","icon","mapRoutes","length","weight","opacity","dashed","mapCenter","className","children","onClick","window","reload","toUpperCase","toLocaleTimeString","hour","minute","center","zoom","markers","routes","interactive","open","disabled","navigator","clipboard","writeText","isActive","busId","driverId","phone","email","href","alert","_navigator$share","_navigator","share","call","title","text","url"],"sources":["/home/project/client/src/pages/StudentPage.jsx"],"sourcesContent":["// client/src/pages/StudentPage.jsx\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSocket } from '../contexts/SocketContext';\nimport Navbar from '../components/Layout/Navbar';\nimport MapComponent from '../components/Common/MapComponent';\nimport BusMarker from '../components/Common/BusMarker';\nimport useGeolocation from '../hooks/useGeolocation';\nimport { busService } from '../services/busService';\n\nconst StudentDashboard = () => {\n  const { user } = useAuth();\n  const { socket, joinBusRoom } = useSocket();\n  const { location, error: locationError, getCurrentPosition } = useGeolocation();\n  \n  const [bus, setBus] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [eta, setEta] = useState(null);\n  const [distance, setDistance] = useState(null);\n  const [showRoute, setShowRoute] = useState(false);\n  const [routeCoordinates, setRouteCoordinates] = useState([]);\n  const [lastUpdate, setLastUpdate] = useState(null);\n\n  // Fetch student's bus\n  useEffect(() => {\n    const fetchBus = async () => {\n      try {\n        setLoading(true);\n        const busData = await busService.getMyBus();\n        \n        if (busData) {\n          setBus(busData);\n          \n          // Join bus room for real-time updates\n          if (busData._id) {\n            joinBusRoom(busData._id);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching bus data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBus();\n  }, [joinBusRoom]);\n\n  // Get student location on mount\n  useEffect(() => {\n    getCurrentPosition().catch(console.error);\n  }, []);\n\n  // Socket listeners for real-time updates\n  useEffect(() => {\n    if (!socket || !bus?._id) return;\n\n    const handleBusUpdate = (data) => {\n      setBus(prev => ({\n        ...prev,\n        latitude: data.latitude,\n        longitude: data.longitude,\n        status: data.status,\n        updatedAt: data.timestamp\n      }));\n      setLastUpdate(new Date());\n      \n      // Recalculate ETA if student location is available\n      if (location && data.latitude && data.longitude) {\n        calculateETA(data.latitude, data.longitude);\n      }\n    };\n\n    socket.on('bus-location-update', handleBusUpdate);\n    socket.on('bus-live-update', handleBusUpdate);\n\n    return () => {\n      socket.off('bus-location-update', handleBusUpdate);\n      socket.off('bus-live-update', handleBusUpdate);\n    };\n  }, [socket, bus?._id, location]);\n\n  // Calculate ETA when locations change\n  useEffect(() => {\n    if (bus?.latitude && bus?.longitude && location) {\n      calculateETA(bus.latitude, bus.longitude);\n    }\n  }, [bus, location]);\n\n  // Calculate ETA and distance\n  const calculateETA = async (busLat, busLng) => {\n    if (!location) return;\n\n    try {\n      const routeInfo = await busService.getRouteInfo(\n        location.latitude,\n        location.longitude,\n        busLat,\n        busLng\n      );\n\n      if (routeInfo) {\n        if (routeInfo.coordinates) {\n          setRouteCoordinates(routeInfo.coordinates);\n        }\n        \n        if (routeInfo.duration) {\n          const minutes = Math.round(routeInfo.duration);\n          setEta(minutes > 0 ? `${minutes} mins` : 'Arriving now');\n        }\n        \n        if (routeInfo.distance) {\n          setDistance(`${routeInfo.distance.toFixed(1)} km`);\n        }\n      }\n    } catch (error) {\n      // Fallback calculation using straight-line distance\n      const straightLineDistance = calculateStraightDistance(\n        location.latitude,\n        location.longitude,\n        busLat,\n        busLng\n      );\n      \n      const estimatedTime = Math.round((straightLineDistance / 30) * 60); // 30 km/h average\n      setEta(estimatedTime > 0 ? `${estimatedTime} mins` : 'Arriving now');\n      setDistance(`${straightLineDistance.toFixed(1)} km`);\n    }\n  };\n\n  // Calculate straight-line distance (Haversine formula)\n  const calculateStraightDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // Earth's radius in km\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = \n      Math.sin(dLat/2) * Math.sin(dLat/2) +\n      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n      Math.sin(dLon/2) * Math.sin(dLon/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    return R * c;\n  };\n\n  // Map markers\n  const mapMarkers = [\n    ...(bus?.latitude && bus?.longitude ? [{\n      position: { lat: bus.latitude, lng: bus.longitude },\n      iconHtml: `\n        <div style=\"\n          width: 50px;\n          height: 50px;\n          background: #2563eb;\n          border-radius: 50%;\n          border: 3px solid white;\n          box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: white;\n          font-size: 1.2rem;\n        \">\n          <i class=\"fas fa-bus\"></i>\n        </div>\n      `,\n      iconSize: [50, 50],\n      iconAnchor: [25, 50],\n      popup: `\n        <div style=\"padding: 10px; min-width: 200px;\">\n          <strong>Bus ${bus.busNumber}</strong><br>\n          Route: ${bus.routeName || 'N/A'}<br>\n          Status: ${bus.status || 'Active'}<br>\n          Driver: ${bus.driverName || 'N/A'}\n        </div>\n      `\n    }] : []),\n    ...(location ? [{\n      position: { lat: location.latitude, lng: location.longitude },\n      color: '#10b981',\n      size: 35,\n      icon: 'üë®‚Äçüéì',\n      popup: `\n        <div style=\"padding: 10px;\">\n          <strong>Your Location</strong><br>\n          ${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}\n        </div>\n      `\n    }] : [])\n  ];\n\n  // Route data for map\n  const mapRoutes = showRoute && routeCoordinates.length > 0 ? [{\n    coordinates: routeCoordinates,\n    color: '#6366f1',\n    weight: 4,\n    opacity: 0.7\n  }] : bus?.latitude && bus?.longitude && location ? [{\n    coordinates: [\n      { lat: location.latitude, lng: location.longitude },\n      { lat: bus.latitude, lng: bus.longitude }\n    ],\n    color: '#94a3b8',\n    weight: 3,\n    opacity: 0.5,\n    dashed: true\n  }] : [];\n\n  // Center map between bus and student\n  const mapCenter = bus?.latitude && bus?.longitude && location \n    ? [\n        (bus.latitude + location.latitude) / 2,\n        (bus.longitude + location.longitude) / 2\n      ]\n    : bus?.latitude && bus?.longitude\n    ? [bus.latitude, bus.longitude]\n    : location\n    ? [location.latitude, location.longitude]\n    : [20.5937, 78.9629];\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading your bus information...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!bus) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navbar />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center\">\n            <div className=\"w-20 h-20 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center\">\n              <i className=\"fas fa-bus-slash text-3xl text-gray-400\"></i>\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">No Bus Assigned</h2>\n            <p className=\"text-gray-600 mb-6\">\n              You don't have a bus assigned to you yet. Please contact the AIDS Department for assistance.\n            </p>\n            <button\n              onClick={() => window.location.reload()}\n              className=\"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all\"\n            >\n              <i className=\"fas fa-sync-alt mr-2\"></i>\n              Refresh Page\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      \n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Student Dashboard</h1>\n              <p className=\"text-gray-600 mt-2\">\n                Track your bus in real-time\n              </p>\n            </div>\n            \n            <div className=\"flex items-center gap-4\">\n              <div className=\"px-4 py-2 bg-blue-50 border border-blue-200 rounded-full flex items-center gap-2\">\n                <div className=\"w-2 h-2 rounded-full bg-blue-500 animate-pulse\"></div>\n                <span className=\"text-sm font-medium text-blue-800\">\n                  {bus.status?.toUpperCase() || 'TRACKING'}\n                </span>\n              </div>\n              \n              {lastUpdate && (\n                <div className=\"text-sm text-gray-500\">\n                  Updated: {lastUpdate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Left Column - Map */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200\">\n              <div className=\"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50\">\n                <div className=\"flex items-center justify-between\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">\n                    Live Bus Tracking\n                  </h2>\n                  <button\n                    onClick={() => setShowRoute(!showRoute)}\n                    className={`px-4 py-2 rounded-lg font-medium flex items-center gap-2 ${\n                      showRoute \n                        ? 'bg-blue-500 text-white' \n                        : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'\n                    }`}\n                  >\n                    <i className=\"fas fa-route\"></i>\n                    {showRoute ? 'Hide Route' : 'Show Route'}\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"h-[500px] relative\">\n                <MapComponent\n                  center={mapCenter}\n                  zoom={13}\n                  markers={mapMarkers}\n                  routes={mapRoutes}\n                  interactive={true}\n                />\n                \n                {locationError && (\n                  <div className=\"absolute top-4 left-4 right-4 bg-red-50 border border-red-200 rounded-lg p-4 z-10\">\n                    <div className=\"flex items-center gap-3\">\n                      <i className=\"fas fa-exclamation-triangle text-red-500\"></i>\n                      <div>\n                        <p className=\"text-red-700 font-medium\">Location Error</p>\n                        <p className=\"text-red-600 text-sm\">{locationError}</p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <button\n                onClick={() => getCurrentPosition()}\n                className=\"px-6 py-4 rounded-xl bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 hover:from-blue-100 hover:to-blue-200 transition-all flex items-center justify-center gap-3\"\n              >\n                <i className=\"fas fa-location-crosshairs text-blue-600\"></i>\n                <span className=\"font-medium text-blue-700\">Refresh Location</span>\n              </button>\n              \n              <button\n                onClick={() => window.open(`https://www.google.com/maps/dir/${location?.latitude},${location?.longitude}/${bus?.latitude},${bus?.longitude}`, '_blank')}\n                disabled={!location || !bus?.latitude}\n                className=\"px-6 py-4 rounded-xl bg-gradient-to-r from-green-50 to-green-100 border border-green-200 hover:from-green-100 hover:to-green-200 transition-all flex items-center justify-center gap-3 disabled:opacity-50\"\n              >\n                <i className=\"fas fa-directions text-green-600\"></i>\n                <span className=\"font-medium text-green-700\">Get Directions</span>\n              </button>\n              \n              <button\n                onClick={() => navigator.clipboard.writeText(`Bus ${bus.busNumber} - Driver: ${bus.driverName} - ${bus.routeName}`)}\n                className=\"px-6 py-4 rounded-xl bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 hover:from-purple-100 hover:to-purple-200 transition-all flex items-center justify-center gap-3\"\n              >\n                <i className=\"fas fa-copy text-purple-600\"></i>\n                <span className=\"font-medium text-purple-700\">Copy Bus Info</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Right Column - Info & Details */}\n          <div className=\"space-y-6\">\n            {/* ETA Card */}\n            <div className=\"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg text-white overflow-hidden\">\n              <div className=\"p-6\">\n                <div className=\"flex items-center gap-3 mb-4\">\n                  <div className=\"w-12 h-12 rounded-lg bg-white/20 flex items-center justify-center\">\n                    <i className=\"fas fa-clock text-xl\"></i>\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg font-semibold\">Estimated Arrival</h3>\n                    <p className=\"text-blue-100 text-sm\">Based on current location</p>\n                  </div>\n                </div>\n                \n                <div className=\"text-center py-6\">\n                  <div className=\"text-5xl font-bold mb-2\">{eta || '--:--'}</div>\n                  <p className=\"text-blue-100\">{distance || 'Calculating...'}</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Bus Details */}\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\">\n              <div className=\"p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Bus Details</h3>\n                \n                <BusMarker bus={bus} isActive={true} />\n                \n                <div className=\"mt-6 space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs text-gray-500 uppercase font-semibold mb-1\">Bus Number</p>\n                      <p className=\"font-bold text-lg\">{bus.busNumber}</p>\n                    </div>\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs text-gray-500 uppercase font-semibold mb-1\">Vehicle ID</p>\n                      <p className=\"font-bold text-lg\">{bus.busId || '---'}</p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-gray-50 p-3 rounded-lg\">\n                    <p className=\"text-xs text-gray-500 uppercase font-semibold mb-1\">Route Name</p>\n                    <p className=\"font-bold text-lg\">{bus.routeName || 'Not specified'}</p>\n                  </div>\n                  \n                  <div className=\"bg-gray-50 p-3 rounded-lg\">\n                    <p className=\"text-xs text-gray-500 uppercase font-semibold mb-1\">Driver</p>\n                    <div className=\"flex items-center justify-between\">\n                      <p className=\"font-bold text-lg\">{bus.driverName || 'Unassigned'}</p>\n                      {bus.driverId?.phone && (\n                        <button\n                          onClick={() => window.open(`tel:${bus.driverId.phone}`)}\n                          className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm hover:bg-blue-200 transition-colors\"\n                        >\n                          <i className=\"fas fa-phone mr-1\"></i>\n                          Call\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                  \n                  {bus.driverId?.email && (\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <p className=\"text-xs text-gray-500 uppercase font-semibold mb-1\">Driver Email</p>\n                      <a \n                        href={`mailto:${bus.driverId.email}`}\n                        className=\"font-medium text-blue-600 hover:text-blue-800 flex items-center gap-2\"\n                      >\n                        <i className=\"fas fa-envelope\"></i>\n                        {bus.driverId.email}\n                      </a>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\">\n              <div className=\"p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n                <div className=\"space-y-3\">\n                  <button \n                    onClick={() => window.location.reload()}\n                    className=\"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-left flex items-center gap-3 transition-colors\"\n                  >\n                    <i className=\"fas fa-sync-alt text-gray-600\"></i>\n                    <span className=\"font-medium\">Refresh Dashboard</span>\n                  </button>\n                  \n                  <button \n                    onClick={() => alert('Issue reported to AIDS Department. Thank you!')}\n                    className=\"w-full px-4 py-3 bg-red-50 hover:bg-red-100 rounded-lg text-left flex items-center gap-3 transition-colors\"\n                  >\n                    <i className=\"fas fa-flag text-red-600\"></i>\n                    <span className=\"font-medium text-red-700\">Report Issue</span>\n                  </button>\n                  \n                  <button \n                    onClick={() => navigator.share?.({\n                      title: `Bus ${bus.busNumber} Tracking`,\n                      text: `Track Bus ${bus.busNumber} on ${bus.routeName}. Current ETA: ${eta}`,\n                      url: window.location.href\n                    }).catch(console.error)}\n                    className=\"w-full px-4 py-3 bg-green-50 hover:bg-green-100 rounded-lg text-left flex items-center gap-3 transition-colors\"\n                  >\n                    <i className=\"fas fa-share-alt text-green-600\"></i>\n                    <span className=\"font-medium text-green-700\">Share Tracking</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StudentDashboard;"],"mappings":"yGAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,SAAS,KAAQ,2BAA2B,CACrD,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,MAAO,CAAAC,YAAY,KAAM,mCAAmC,CAC5D,MAAO,CAAAC,SAAS,KAAM,gCAAgC,CACtD,MAAO,CAAAC,cAAc,KAAM,yBAAyB,CACpD,OAASC,UAAU,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,KAAAC,WAAA,CAAAC,aAAA,CAAAC,cAAA,CAC7B,KAAM,CAAEC,IAAK,CAAC,CAAGf,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAEgB,MAAM,CAAEC,WAAY,CAAC,CAAGhB,SAAS,CAAC,CAAC,CAC3C,KAAM,CAAEiB,QAAQ,CAAEC,KAAK,CAAEC,aAAa,CAAEC,kBAAmB,CAAC,CAAGhB,cAAc,CAAC,CAAC,CAE/E,KAAM,CAACiB,GAAG,CAAEC,MAAM,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAAC0B,OAAO,CAAEC,UAAU,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC4B,GAAG,CAAEC,MAAM,CAAC,CAAG7B,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAAC8B,QAAQ,CAAEC,WAAW,CAAC,CAAG/B,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACgC,SAAS,CAAEC,YAAY,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACkC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGnC,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACoC,UAAU,CAAEC,aAAa,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CAElD;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqC,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACFX,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAY,OAAO,CAAG,KAAM,CAAA/B,UAAU,CAACgC,QAAQ,CAAC,CAAC,CAE3C,GAAID,OAAO,CAAE,CACXd,MAAM,CAACc,OAAO,CAAC,CAEf;AACA,GAAIA,OAAO,CAACE,GAAG,CAAE,CACftB,WAAW,CAACoB,OAAO,CAACE,GAAG,CAAC,CAC1B,CACF,CACF,CAAE,MAAOpB,KAAK,CAAE,CACdqB,OAAO,CAACrB,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDW,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,CAACnB,WAAW,CAAC,CAAC,CAEjB;AACAlB,SAAS,CAAC,IAAM,CACdsB,kBAAkB,CAAC,CAAC,CAACoB,KAAK,CAACD,OAAO,CAACrB,KAAK,CAAC,CAC3C,CAAC,CAAE,EAAE,CAAC,CAEN;AACApB,SAAS,CAAC,IAAM,CACd,GAAI,CAACiB,MAAM,EAAI,EAACM,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEiB,GAAG,EAAE,OAE1B,KAAM,CAAAG,eAAe,CAAIC,IAAI,EAAK,CAChCpB,MAAM,CAACqB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACND,IAAI,MACPE,QAAQ,CAAEH,IAAI,CAACG,QAAQ,CACvBC,SAAS,CAAEJ,IAAI,CAACI,SAAS,CACzBC,MAAM,CAAEL,IAAI,CAACK,MAAM,CACnBC,SAAS,CAAEN,IAAI,CAACO,SAAS,EACzB,CAAC,CACHf,aAAa,CAAC,GAAI,CAAAgB,IAAI,CAAC,CAAC,CAAC,CAEzB;AACA,GAAIjC,QAAQ,EAAIyB,IAAI,CAACG,QAAQ,EAAIH,IAAI,CAACI,SAAS,CAAE,CAC/CK,YAAY,CAACT,IAAI,CAACG,QAAQ,CAAEH,IAAI,CAACI,SAAS,CAAC,CAC7C,CACF,CAAC,CAED/B,MAAM,CAACqC,EAAE,CAAC,qBAAqB,CAAEX,eAAe,CAAC,CACjD1B,MAAM,CAACqC,EAAE,CAAC,iBAAiB,CAAEX,eAAe,CAAC,CAE7C,MAAO,IAAM,CACX1B,MAAM,CAACsC,GAAG,CAAC,qBAAqB,CAAEZ,eAAe,CAAC,CAClD1B,MAAM,CAACsC,GAAG,CAAC,iBAAiB,CAAEZ,eAAe,CAAC,CAChD,CAAC,CACH,CAAC,CAAE,CAAC1B,MAAM,CAAEM,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEiB,GAAG,CAAErB,QAAQ,CAAC,CAAC,CAEhC;AACAnB,SAAS,CAAC,IAAM,CACd,GAAIuB,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEwB,QAAQ,EAAIxB,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEyB,SAAS,EAAI7B,QAAQ,CAAE,CAC/CkC,YAAY,CAAC9B,GAAG,CAACwB,QAAQ,CAAExB,GAAG,CAACyB,SAAS,CAAC,CAC3C,CACF,CAAC,CAAE,CAACzB,GAAG,CAAEJ,QAAQ,CAAC,CAAC,CAEnB;AACA,KAAM,CAAAkC,YAAY,CAAG,KAAAA,CAAOG,MAAM,CAAEC,MAAM,GAAK,CAC7C,GAAI,CAACtC,QAAQ,CAAE,OAEf,GAAI,CACF,KAAM,CAAAuC,SAAS,CAAG,KAAM,CAAAnD,UAAU,CAACoD,YAAY,CAC7CxC,QAAQ,CAAC4B,QAAQ,CACjB5B,QAAQ,CAAC6B,SAAS,CAClBQ,MAAM,CACNC,MACF,CAAC,CAED,GAAIC,SAAS,CAAE,CACb,GAAIA,SAAS,CAACE,WAAW,CAAE,CACzB1B,mBAAmB,CAACwB,SAAS,CAACE,WAAW,CAAC,CAC5C,CAEA,GAAIF,SAAS,CAACG,QAAQ,CAAE,CACtB,KAAM,CAAAC,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACN,SAAS,CAACG,QAAQ,CAAC,CAC9CjC,MAAM,CAACkC,OAAO,CAAG,CAAC,IAAAG,MAAA,CAAMH,OAAO,UAAU,cAAc,CAAC,CAC1D,CAEA,GAAIJ,SAAS,CAAC7B,QAAQ,CAAE,CACtBC,WAAW,IAAAmC,MAAA,CAAIP,SAAS,CAAC7B,QAAQ,CAACqC,OAAO,CAAC,CAAC,CAAC,OAAK,CAAC,CACpD,CACF,CACF,CAAE,MAAO9C,KAAK,CAAE,CACd;AACA,KAAM,CAAA+C,oBAAoB,CAAGC,yBAAyB,CACpDjD,QAAQ,CAAC4B,QAAQ,CACjB5B,QAAQ,CAAC6B,SAAS,CAClBQ,MAAM,CACNC,MACF,CAAC,CAED,KAAM,CAAAY,aAAa,CAAGN,IAAI,CAACC,KAAK,CAAEG,oBAAoB,CAAG,EAAE,CAAI,EAAE,CAAC,CAAE;AACpEvC,MAAM,CAACyC,aAAa,CAAG,CAAC,IAAAJ,MAAA,CAAMI,aAAa,UAAU,cAAc,CAAC,CACpEvC,WAAW,IAAAmC,MAAA,CAAIE,oBAAoB,CAACD,OAAO,CAAC,CAAC,CAAC,OAAK,CAAC,CACtD,CACF,CAAC,CAED;AACA,KAAM,CAAAE,yBAAyB,CAAGA,CAACE,IAAI,CAAEC,IAAI,CAAEC,IAAI,CAAEC,IAAI,GAAK,CAC5D,KAAM,CAAAC,CAAC,CAAG,IAAI,CAAE;AAChB,KAAM,CAAAC,IAAI,CAAG,CAACH,IAAI,CAAGF,IAAI,EAAIP,IAAI,CAACa,EAAE,CAAG,GAAG,CAC1C,KAAM,CAAAC,IAAI,CAAG,CAACJ,IAAI,CAAGF,IAAI,EAAIR,IAAI,CAACa,EAAE,CAAG,GAAG,CAC1C,KAAM,CAAAE,CAAC,CACLf,IAAI,CAACgB,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC,CAAGZ,IAAI,CAACgB,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC,CACnCZ,IAAI,CAACiB,GAAG,CAACV,IAAI,CAAGP,IAAI,CAACa,EAAE,CAAG,GAAG,CAAC,CAAGb,IAAI,CAACiB,GAAG,CAACR,IAAI,CAAGT,IAAI,CAACa,EAAE,CAAG,GAAG,CAAC,CAC/Db,IAAI,CAACgB,GAAG,CAACF,IAAI,CAAC,CAAC,CAAC,CAAGd,IAAI,CAACgB,GAAG,CAACF,IAAI,CAAC,CAAC,CAAC,CACrC,KAAM,CAAAI,CAAC,CAAG,CAAC,CAAGlB,IAAI,CAACmB,KAAK,CAACnB,IAAI,CAACoB,IAAI,CAACL,CAAC,CAAC,CAAEf,IAAI,CAACoB,IAAI,CAAC,CAAC,CAACL,CAAC,CAAC,CAAC,CACtD,MAAO,CAAAJ,CAAC,CAAGO,CAAC,CACd,CAAC,CAED;AACA,KAAM,CAAAG,UAAU,CAAG,CACjB,IAAI7D,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEwB,QAAQ,EAAIxB,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEyB,SAAS,CAAG,CAAC,CACrCqC,QAAQ,CAAE,CAAEC,GAAG,CAAE/D,GAAG,CAACwB,QAAQ,CAAEwC,GAAG,CAAEhE,GAAG,CAACyB,SAAU,CAAC,CACnDwC,QAAQ,0cAgBP,CACDC,QAAQ,CAAE,CAAC,EAAE,CAAE,EAAE,CAAC,CAClBC,UAAU,CAAE,CAAC,EAAE,CAAE,EAAE,CAAC,CACpBC,KAAK,sFAAA1B,MAAA,CAEa1C,GAAG,CAACqE,SAAS,qCAAA3B,MAAA,CAClB1C,GAAG,CAACsE,SAAS,EAAI,KAAK,6BAAA5B,MAAA,CACrB1C,GAAG,CAAC0B,MAAM,EAAI,QAAQ,6BAAAgB,MAAA,CACtB1C,GAAG,CAACuE,UAAU,EAAI,KAAK,4BAGvC,CAAC,CAAC,CAAG,EAAE,CAAC,CACR,IAAI3E,QAAQ,CAAG,CAAC,CACdkE,QAAQ,CAAE,CAAEC,GAAG,CAAEnE,QAAQ,CAAC4B,QAAQ,CAAEwC,GAAG,CAAEpE,QAAQ,CAAC6B,SAAU,CAAC,CAC7D+C,KAAK,CAAE,SAAS,CAChBC,IAAI,CAAE,EAAE,CACRC,IAAI,CAAE,OAAO,CACbN,KAAK,sGAAA1B,MAAA,CAGC9C,QAAQ,CAAC4B,QAAQ,CAACmB,OAAO,CAAC,CAAC,CAAC,OAAAD,MAAA,CAAK9C,QAAQ,CAAC6B,SAAS,CAACkB,OAAO,CAAC,CAAC,CAAC,4BAGtE,CAAC,CAAC,CAAG,EAAE,CAAC,CACT,CAED;AACA,KAAM,CAAAgC,SAAS,CAAGnE,SAAS,EAAIE,gBAAgB,CAACkE,MAAM,CAAG,CAAC,CAAG,CAAC,CAC5DvC,WAAW,CAAE3B,gBAAgB,CAC7B8D,KAAK,CAAE,SAAS,CAChBK,MAAM,CAAE,CAAC,CACTC,OAAO,CAAE,GACX,CAAC,CAAC,CAAG9E,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEwB,QAAQ,EAAIxB,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEyB,SAAS,EAAI7B,QAAQ,CAAG,CAAC,CAClDyC,WAAW,CAAE,CACX,CAAE0B,GAAG,CAAEnE,QAAQ,CAAC4B,QAAQ,CAAEwC,GAAG,CAAEpE,QAAQ,CAAC6B,SAAU,CAAC,CACnD,CAAEsC,GAAG,CAAE/D,GAAG,CAACwB,QAAQ,CAAEwC,GAAG,CAAEhE,GAAG,CAACyB,SAAU,CAAC,CAC1C,CACD+C,KAAK,CAAE,SAAS,CAChBK,MAAM,CAAE,CAAC,CACTC,OAAO,CAAE,GAAG,CACZC,MAAM,CAAE,IACV,CAAC,CAAC,CAAG,EAAE,CAEP;AACA,KAAM,CAAAC,SAAS,CAAGhF,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEwB,QAAQ,EAAIxB,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEyB,SAAS,EAAI7B,QAAQ,CACzD,CACE,CAACI,GAAG,CAACwB,QAAQ,CAAG5B,QAAQ,CAAC4B,QAAQ,EAAI,CAAC,CACtC,CAACxB,GAAG,CAACyB,SAAS,CAAG7B,QAAQ,CAAC6B,SAAS,EAAI,CAAC,CACzC,CACDzB,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEwB,QAAQ,EAAIxB,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEyB,SAAS,CAC/B,CAACzB,GAAG,CAACwB,QAAQ,CAAExB,GAAG,CAACyB,SAAS,CAAC,CAC7B7B,QAAQ,CACR,CAACA,QAAQ,CAAC4B,QAAQ,CAAE5B,QAAQ,CAAC6B,SAAS,CAAC,CACvC,CAAC,OAAO,CAAE,OAAO,CAAC,CAEtB,GAAIvB,OAAO,CAAE,CACX,mBACEhB,IAAA,QAAK+F,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvE9F,KAAA,QAAK6F,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhG,IAAA,QAAK+F,SAAS,CAAC,wEAAwE,CAAM,CAAC,cAC9F/F,IAAA,MAAG+F,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,iCAA+B,CAAG,CAAC,EAClE,CAAC,CACH,CAAC,CAEV,CAEA,GAAI,CAAClF,GAAG,CAAE,CACR,mBACEZ,KAAA,QAAK6F,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtChG,IAAA,CAACN,MAAM,GAAE,CAAC,cACVM,IAAA,QAAK+F,SAAS,CAAC,6CAA6C,CAAAC,QAAA,cAC1D9F,KAAA,QAAK6F,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACnFhG,IAAA,QAAK+F,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FhG,IAAA,MAAG+F,SAAS,CAAC,yCAAyC,CAAI,CAAC,CACxD,CAAC,cACN/F,IAAA,OAAI+F,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1EhG,IAAA,MAAG+F,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,8FAElC,CAAG,CAAC,cACJ9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACxF,QAAQ,CAACyF,MAAM,CAAC,CAAE,CACxCJ,SAAS,CAAC,6IAA6I,CAAAC,QAAA,eAEvJhG,IAAA,MAAG+F,SAAS,CAAC,sBAAsB,CAAI,CAAC,eAE1C,EAAQ,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,mBACE7F,KAAA,QAAK6F,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtChG,IAAA,CAACN,MAAM,GAAE,CAAC,cAEVQ,KAAA,QAAK6F,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAE1DhG,IAAA,QAAK+F,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB9F,KAAA,QAAK6F,SAAS,CAAC,oEAAoE,CAAAC,QAAA,eACjF9F,KAAA,QAAA8F,QAAA,eACEhG,IAAA,OAAI+F,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACvEhG,IAAA,MAAG+F,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,6BAElC,CAAG,CAAC,EACD,CAAC,cAEN9F,KAAA,QAAK6F,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC9F,KAAA,QAAK6F,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC/FhG,IAAA,QAAK+F,SAAS,CAAC,gDAAgD,CAAM,CAAC,cACtE/F,IAAA,SAAM+F,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAChD,EAAA5F,WAAA,CAAAU,GAAG,CAAC0B,MAAM,UAAApC,WAAA,iBAAVA,WAAA,CAAYgG,WAAW,CAAC,CAAC,GAAI,UAAU,CACpC,CAAC,EACJ,CAAC,CAEL1E,UAAU,eACTxB,KAAA,QAAK6F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,WAC5B,CAACtE,UAAU,CAAC2E,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,EAChF,CACN,EACE,CAAC,EACH,CAAC,CACH,CAAC,cAGNrG,KAAA,QAAK6F,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpD9F,KAAA,QAAK6F,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9F,KAAA,QAAK6F,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACnFhG,IAAA,QAAK+F,SAAS,CAAC,yEAAyE,CAAAC,QAAA,cACtF9F,KAAA,QAAK6F,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhG,IAAA,OAAI+F,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,mBAEpD,CAAI,CAAC,cACL9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAM1E,YAAY,CAAC,CAACD,SAAS,CAAE,CACxCyE,SAAS,6DAAAvC,MAAA,CACPlC,SAAS,CACL,wBAAwB,CACxB,gEAAgE,CACnE,CAAA0E,QAAA,eAEHhG,IAAA,MAAG+F,SAAS,CAAC,cAAc,CAAI,CAAC,CAC/BzE,SAAS,CAAG,YAAY,CAAG,YAAY,EAClC,CAAC,EACN,CAAC,CACH,CAAC,cAENpB,KAAA,QAAK6F,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjChG,IAAA,CAACL,YAAY,EACX6G,MAAM,CAAEV,SAAU,CAClBW,IAAI,CAAE,EAAG,CACTC,OAAO,CAAE/B,UAAW,CACpBgC,MAAM,CAAElB,SAAU,CAClBmB,WAAW,CAAE,IAAK,CACnB,CAAC,CAEDhG,aAAa,eACZZ,IAAA,QAAK+F,SAAS,CAAC,mFAAmF,CAAAC,QAAA,cAChG9F,KAAA,QAAK6F,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtChG,IAAA,MAAG+F,SAAS,CAAC,0CAA0C,CAAI,CAAC,cAC5D7F,KAAA,QAAA8F,QAAA,eACEhG,IAAA,MAAG+F,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,gBAAc,CAAG,CAAC,cAC1DhG,IAAA,MAAG+F,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEpF,aAAa,CAAI,CAAC,EACpD,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,EACH,CAAC,cAGNV,KAAA,QAAK6F,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAMpF,kBAAkB,CAAC,CAAE,CACpCkF,SAAS,CAAC,mLAAmL,CAAAC,QAAA,eAE7LhG,IAAA,MAAG+F,SAAS,CAAC,0CAA0C,CAAI,CAAC,cAC5D/F,IAAA,SAAM+F,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,kBAAgB,CAAM,CAAC,EAC7D,CAAC,cAET9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACW,IAAI,oCAAArD,MAAA,CAAoC9C,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE4B,QAAQ,MAAAkB,MAAA,CAAI9C,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE6B,SAAS,MAAAiB,MAAA,CAAI1C,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEwB,QAAQ,MAAAkB,MAAA,CAAI1C,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEyB,SAAS,EAAI,QAAQ,CAAE,CACxJuE,QAAQ,CAAE,CAACpG,QAAQ,EAAI,EAACI,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEwB,QAAQ,CAAC,CACtCyD,SAAS,CAAC,4MAA4M,CAAAC,QAAA,eAEtNhG,IAAA,MAAG+F,SAAS,CAAC,kCAAkC,CAAI,CAAC,cACpD/F,IAAA,SAAM+F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,EAC5D,CAAC,cAET9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAMc,SAAS,CAACC,SAAS,CAACC,SAAS,QAAAzD,MAAA,CAAQ1C,GAAG,CAACqE,SAAS,gBAAA3B,MAAA,CAAc1C,GAAG,CAACuE,UAAU,QAAA7B,MAAA,CAAM1C,GAAG,CAACsE,SAAS,CAAE,CAAE,CACpHW,SAAS,CAAC,6LAA6L,CAAAC,QAAA,eAEvMhG,IAAA,MAAG+F,SAAS,CAAC,6BAA6B,CAAI,CAAC,cAC/C/F,IAAA,SAAM+F,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,EAC5D,CAAC,EACN,CAAC,EACH,CAAC,cAGN9F,KAAA,QAAK6F,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBhG,IAAA,QAAK+F,SAAS,CAAC,+FAA+F,CAAAC,QAAA,cAC5G9F,KAAA,QAAK6F,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB9F,KAAA,QAAK6F,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3ChG,IAAA,QAAK+F,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChFhG,IAAA,MAAG+F,SAAS,CAAC,sBAAsB,CAAI,CAAC,CACrC,CAAC,cACN7F,KAAA,QAAA8F,QAAA,eACEhG,IAAA,OAAI+F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAC5DhG,IAAA,MAAG+F,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,2BAAyB,CAAG,CAAC,EAC/D,CAAC,EACH,CAAC,cAEN9F,KAAA,QAAK6F,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BhG,IAAA,QAAK+F,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAE9E,GAAG,EAAI,OAAO,CAAM,CAAC,cAC/DlB,IAAA,MAAG+F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAE5E,QAAQ,EAAI,gBAAgB,CAAI,CAAC,EAC5D,CAAC,EACH,CAAC,CACH,CAAC,cAGNpB,IAAA,QAAK+F,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnF9F,KAAA,QAAK6F,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBhG,IAAA,OAAI+F,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cAEzEhG,IAAA,CAACJ,SAAS,EAACkB,GAAG,CAAEA,GAAI,CAACoG,QAAQ,CAAE,IAAK,CAAE,CAAC,cAEvChH,KAAA,QAAK6F,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9F,KAAA,QAAK6F,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC9F,KAAA,QAAK6F,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChG,IAAA,MAAG+F,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAChFhG,IAAA,MAAG+F,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElF,GAAG,CAACqE,SAAS,CAAI,CAAC,EACjD,CAAC,cACNjF,KAAA,QAAK6F,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChG,IAAA,MAAG+F,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAChFhG,IAAA,MAAG+F,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElF,GAAG,CAACqG,KAAK,EAAI,KAAK,CAAI,CAAC,EACtD,CAAC,EACH,CAAC,cAENjH,KAAA,QAAK6F,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChG,IAAA,MAAG+F,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAChFhG,IAAA,MAAG+F,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElF,GAAG,CAACsE,SAAS,EAAI,eAAe,CAAI,CAAC,EACpE,CAAC,cAENlF,KAAA,QAAK6F,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChG,IAAA,MAAG+F,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,QAAM,CAAG,CAAC,cAC5E9F,KAAA,QAAK6F,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhG,IAAA,MAAG+F,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElF,GAAG,CAACuE,UAAU,EAAI,YAAY,CAAI,CAAC,CACpE,EAAAhF,aAAA,CAAAS,GAAG,CAACsG,QAAQ,UAAA/G,aAAA,iBAAZA,aAAA,CAAcgH,KAAK,gBAClBnH,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACW,IAAI,QAAArD,MAAA,CAAQ1C,GAAG,CAACsG,QAAQ,CAACC,KAAK,CAAE,CAAE,CACxDtB,SAAS,CAAC,4FAA4F,CAAAC,QAAA,eAEtGhG,IAAA,MAAG+F,SAAS,CAAC,mBAAmB,CAAI,CAAC,OAEvC,EAAQ,CACT,EACE,CAAC,EACH,CAAC,CAEL,EAAAzF,cAAA,CAAAQ,GAAG,CAACsG,QAAQ,UAAA9G,cAAA,iBAAZA,cAAA,CAAcgH,KAAK,gBAClBpH,KAAA,QAAK6F,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChG,IAAA,MAAG+F,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,cAClF9F,KAAA,MACEqH,IAAI,WAAA/D,MAAA,CAAY1C,GAAG,CAACsG,QAAQ,CAACE,KAAK,CAAG,CACrCvB,SAAS,CAAC,uEAAuE,CAAAC,QAAA,eAEjFhG,IAAA,MAAG+F,SAAS,CAAC,iBAAiB,CAAI,CAAC,CAClCjF,GAAG,CAACsG,QAAQ,CAACE,KAAK,EAClB,CAAC,EACD,CACN,EACE,CAAC,EACH,CAAC,CACH,CAAC,cAGNtH,IAAA,QAAK+F,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnF9F,KAAA,QAAK6F,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBhG,IAAA,OAAI+F,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC3E9F,KAAA,QAAK6F,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACxF,QAAQ,CAACyF,MAAM,CAAC,CAAE,CACxCJ,SAAS,CAAC,8GAA8G,CAAAC,QAAA,eAExHhG,IAAA,MAAG+F,SAAS,CAAC,+BAA+B,CAAI,CAAC,cACjD/F,IAAA,SAAM+F,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,mBAAiB,CAAM,CAAC,EAChD,CAAC,cAET9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,GAAMuB,KAAK,CAAC,+CAA+C,CAAE,CACtEzB,SAAS,CAAC,4GAA4G,CAAAC,QAAA,eAEtHhG,IAAA,MAAG+F,SAAS,CAAC,0BAA0B,CAAI,CAAC,cAC5C/F,IAAA,SAAM+F,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,EACxD,CAAC,cAET9F,KAAA,WACE+F,OAAO,CAAEA,CAAA,QAAAwB,gBAAA,CAAAC,UAAA,QAAAD,gBAAA,CAAM,CAAAC,UAAA,CAAAX,SAAS,EAACY,KAAK,UAAAF,gBAAA,iBAAfA,gBAAA,CAAAG,IAAA,CAAAF,UAAA,CAAkB,CAC/BG,KAAK,QAAArE,MAAA,CAAS1C,GAAG,CAACqE,SAAS,aAAW,CACtC2C,IAAI,cAAAtE,MAAA,CAAe1C,GAAG,CAACqE,SAAS,SAAA3B,MAAA,CAAO1C,GAAG,CAACsE,SAAS,oBAAA5B,MAAA,CAAkBtC,GAAG,CAAE,CAC3E6G,GAAG,CAAE7B,MAAM,CAACxF,QAAQ,CAAC6G,IACvB,CAAC,CAAC,CAACtF,KAAK,CAACD,OAAO,CAACrB,KAAK,CAAC,EAAC,CACxBoF,SAAS,CAAC,gHAAgH,CAAAC,QAAA,eAE1HhG,IAAA,MAAG+F,SAAS,CAAC,iCAAiC,CAAI,CAAC,cACnD/F,IAAA,SAAM+F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,gBAAc,CAAM,CAAC,EAC5D,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7F,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}